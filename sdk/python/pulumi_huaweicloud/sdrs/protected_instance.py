# coding=utf-8
# *** WARNING: this file was generated by pulumi-language-python. ***
# *** Do not edit by hand unless you're certain you know what you are doing! ***

import builtins as _builtins
import warnings
import sys
import pulumi
import pulumi.runtime
from typing import Any, Mapping, Optional, Sequence, Union, overload
if sys.version_info >= (3, 11):
    from typing import NotRequired, TypedDict, TypeAlias
else:
    from typing_extensions import NotRequired, TypedDict, TypeAlias
from .. import _utilities

__all__ = ['ProtectedInstanceArgs', 'ProtectedInstance']

@pulumi.input_type
class ProtectedInstanceArgs:
    def __init__(__self__, *,
                 group_id: pulumi.Input[_builtins.str],
                 server_id: pulumi.Input[_builtins.str],
                 cluster_id: Optional[pulumi.Input[_builtins.str]] = None,
                 delete_target_eip: Optional[pulumi.Input[_builtins.bool]] = None,
                 delete_target_server: Optional[pulumi.Input[_builtins.bool]] = None,
                 description: Optional[pulumi.Input[_builtins.str]] = None,
                 name: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_ip_address: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_subnet_id: Optional[pulumi.Input[_builtins.str]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 tags: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]] = None):
        """
        The set of arguments for constructing a ProtectedInstance resource.
        :param pulumi.Input[_builtins.str] group_id: Specifies the ID of the protection group where a protected instance is
               added.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] server_id: Specifies the ID of the production site server. The server and protection
               group must belong to the same VPC. And each server can only belong to one protection group.
               
               The protection instance has limited requirements for the operating system version,
               you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] cluster_id: Specifies the DSS storage pool ID.
               This parameter needs to be specified if the disaster recovery site disk uses distributed storage.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.bool] delete_target_eip: Specifies whether to delete the EIP of the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.bool] delete_target_server: Specifies whether to delete the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.str] description: Specifies the description of a protected instance. The description can
               contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] name: Specifies the name of a protected instance. The name can contain a maximum of 64
               characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
               underscores (_), and hyphens (-).
        :param pulumi.Input[_builtins.str] primary_ip_address: Specifies the IP address of the primary NIC on the DR site server.
               This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
               primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
               server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] primary_subnet_id: Specifies the network ID of the subnet for the primary NIC on the
               DR site server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] region: Specifies the region in which to create the resource.
               If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        :param pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]] tags: Specifies the key/value pairs to associate with the SDRS protected instance.
        """
        pulumi.set(__self__, "group_id", group_id)
        pulumi.set(__self__, "server_id", server_id)
        if cluster_id is not None:
            pulumi.set(__self__, "cluster_id", cluster_id)
        if delete_target_eip is not None:
            pulumi.set(__self__, "delete_target_eip", delete_target_eip)
        if delete_target_server is not None:
            pulumi.set(__self__, "delete_target_server", delete_target_server)
        if description is not None:
            pulumi.set(__self__, "description", description)
        if name is not None:
            pulumi.set(__self__, "name", name)
        if primary_ip_address is not None:
            pulumi.set(__self__, "primary_ip_address", primary_ip_address)
        if primary_subnet_id is not None:
            pulumi.set(__self__, "primary_subnet_id", primary_subnet_id)
        if region is not None:
            pulumi.set(__self__, "region", region)
        if tags is not None:
            pulumi.set(__self__, "tags", tags)

    @_builtins.property
    @pulumi.getter(name="groupId")
    def group_id(self) -> pulumi.Input[_builtins.str]:
        """
        Specifies the ID of the protection group where a protected instance is
        added.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "group_id")

    @group_id.setter
    def group_id(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "group_id", value)

    @_builtins.property
    @pulumi.getter(name="serverId")
    def server_id(self) -> pulumi.Input[_builtins.str]:
        """
        Specifies the ID of the production site server. The server and protection
        group must belong to the same VPC. And each server can only belong to one protection group.

        The protection instance has limited requirements for the operating system version,
        you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "server_id")

    @server_id.setter
    def server_id(self, value: pulumi.Input[_builtins.str]):
        pulumi.set(self, "server_id", value)

    @_builtins.property
    @pulumi.getter(name="clusterId")
    def cluster_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the DSS storage pool ID.
        This parameter needs to be specified if the disaster recovery site disk uses distributed storage.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "cluster_id")

    @cluster_id.setter
    def cluster_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "cluster_id", value)

    @_builtins.property
    @pulumi.getter(name="deleteTargetEip")
    def delete_target_eip(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Specifies whether to delete the EIP of the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_eip")

    @delete_target_eip.setter
    def delete_target_eip(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "delete_target_eip", value)

    @_builtins.property
    @pulumi.getter(name="deleteTargetServer")
    def delete_target_server(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Specifies whether to delete the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_server")

    @delete_target_server.setter
    def delete_target_server(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "delete_target_server", value)

    @_builtins.property
    @pulumi.getter
    def description(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the description of a protected instance. The description can
        contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "description")

    @description.setter
    def description(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "description", value)

    @_builtins.property
    @pulumi.getter
    def name(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the name of a protected instance. The name can contain a maximum of 64
        characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
        underscores (_), and hyphens (-).
        """
        return pulumi.get(self, "name")

    @name.setter
    def name(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "name", value)

    @_builtins.property
    @pulumi.getter(name="primaryIpAddress")
    def primary_ip_address(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the IP address of the primary NIC on the DR site server.
        This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
        primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
        server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_ip_address")

    @primary_ip_address.setter
    def primary_ip_address(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "primary_ip_address", value)

    @_builtins.property
    @pulumi.getter(name="primarySubnetId")
    def primary_subnet_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the network ID of the subnet for the primary NIC on the
        DR site server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_subnet_id")

    @primary_subnet_id.setter
    def primary_subnet_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "primary_subnet_id", value)

    @_builtins.property
    @pulumi.getter
    def region(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the region in which to create the resource.
        If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "region")

    @region.setter
    def region(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "region", value)

    @_builtins.property
    @pulumi.getter
    def tags(self) -> Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]]:
        """
        Specifies the key/value pairs to associate with the SDRS protected instance.
        """
        return pulumi.get(self, "tags")

    @tags.setter
    def tags(self, value: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]]):
        pulumi.set(self, "tags", value)


@pulumi.input_type
class _ProtectedInstanceState:
    def __init__(__self__, *,
                 cluster_id: Optional[pulumi.Input[_builtins.str]] = None,
                 delete_target_eip: Optional[pulumi.Input[_builtins.bool]] = None,
                 delete_target_server: Optional[pulumi.Input[_builtins.bool]] = None,
                 description: Optional[pulumi.Input[_builtins.str]] = None,
                 group_id: Optional[pulumi.Input[_builtins.str]] = None,
                 name: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_ip_address: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_subnet_id: Optional[pulumi.Input[_builtins.str]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 server_id: Optional[pulumi.Input[_builtins.str]] = None,
                 tags: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]] = None,
                 target_server: Optional[pulumi.Input[_builtins.str]] = None):
        """
        Input properties used for looking up and filtering ProtectedInstance resources.
        :param pulumi.Input[_builtins.str] cluster_id: Specifies the DSS storage pool ID.
               This parameter needs to be specified if the disaster recovery site disk uses distributed storage.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.bool] delete_target_eip: Specifies whether to delete the EIP of the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.bool] delete_target_server: Specifies whether to delete the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.str] description: Specifies the description of a protected instance. The description can
               contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] group_id: Specifies the ID of the protection group where a protected instance is
               added.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] name: Specifies the name of a protected instance. The name can contain a maximum of 64
               characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
               underscores (_), and hyphens (-).
        :param pulumi.Input[_builtins.str] primary_ip_address: Specifies the IP address of the primary NIC on the DR site server.
               This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
               primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
               server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] primary_subnet_id: Specifies the network ID of the subnet for the primary NIC on the
               DR site server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] region: Specifies the region in which to create the resource.
               If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] server_id: Specifies the ID of the production site server. The server and protection
               group must belong to the same VPC. And each server can only belong to one protection group.
               
               The protection instance has limited requirements for the operating system version,
               you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]] tags: Specifies the key/value pairs to associate with the SDRS protected instance.
        :param pulumi.Input[_builtins.str] target_server: ID of the target server.
        """
        if cluster_id is not None:
            pulumi.set(__self__, "cluster_id", cluster_id)
        if delete_target_eip is not None:
            pulumi.set(__self__, "delete_target_eip", delete_target_eip)
        if delete_target_server is not None:
            pulumi.set(__self__, "delete_target_server", delete_target_server)
        if description is not None:
            pulumi.set(__self__, "description", description)
        if group_id is not None:
            pulumi.set(__self__, "group_id", group_id)
        if name is not None:
            pulumi.set(__self__, "name", name)
        if primary_ip_address is not None:
            pulumi.set(__self__, "primary_ip_address", primary_ip_address)
        if primary_subnet_id is not None:
            pulumi.set(__self__, "primary_subnet_id", primary_subnet_id)
        if region is not None:
            pulumi.set(__self__, "region", region)
        if server_id is not None:
            pulumi.set(__self__, "server_id", server_id)
        if tags is not None:
            pulumi.set(__self__, "tags", tags)
        if target_server is not None:
            pulumi.set(__self__, "target_server", target_server)

    @_builtins.property
    @pulumi.getter(name="clusterId")
    def cluster_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the DSS storage pool ID.
        This parameter needs to be specified if the disaster recovery site disk uses distributed storage.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "cluster_id")

    @cluster_id.setter
    def cluster_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "cluster_id", value)

    @_builtins.property
    @pulumi.getter(name="deleteTargetEip")
    def delete_target_eip(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Specifies whether to delete the EIP of the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_eip")

    @delete_target_eip.setter
    def delete_target_eip(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "delete_target_eip", value)

    @_builtins.property
    @pulumi.getter(name="deleteTargetServer")
    def delete_target_server(self) -> Optional[pulumi.Input[_builtins.bool]]:
        """
        Specifies whether to delete the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_server")

    @delete_target_server.setter
    def delete_target_server(self, value: Optional[pulumi.Input[_builtins.bool]]):
        pulumi.set(self, "delete_target_server", value)

    @_builtins.property
    @pulumi.getter
    def description(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the description of a protected instance. The description can
        contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "description")

    @description.setter
    def description(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "description", value)

    @_builtins.property
    @pulumi.getter(name="groupId")
    def group_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the ID of the protection group where a protected instance is
        added.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "group_id")

    @group_id.setter
    def group_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "group_id", value)

    @_builtins.property
    @pulumi.getter
    def name(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the name of a protected instance. The name can contain a maximum of 64
        characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
        underscores (_), and hyphens (-).
        """
        return pulumi.get(self, "name")

    @name.setter
    def name(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "name", value)

    @_builtins.property
    @pulumi.getter(name="primaryIpAddress")
    def primary_ip_address(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the IP address of the primary NIC on the DR site server.
        This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
        primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
        server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_ip_address")

    @primary_ip_address.setter
    def primary_ip_address(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "primary_ip_address", value)

    @_builtins.property
    @pulumi.getter(name="primarySubnetId")
    def primary_subnet_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the network ID of the subnet for the primary NIC on the
        DR site server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_subnet_id")

    @primary_subnet_id.setter
    def primary_subnet_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "primary_subnet_id", value)

    @_builtins.property
    @pulumi.getter
    def region(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the region in which to create the resource.
        If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "region")

    @region.setter
    def region(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "region", value)

    @_builtins.property
    @pulumi.getter(name="serverId")
    def server_id(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        Specifies the ID of the production site server. The server and protection
        group must belong to the same VPC. And each server can only belong to one protection group.

        The protection instance has limited requirements for the operating system version,
        you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "server_id")

    @server_id.setter
    def server_id(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "server_id", value)

    @_builtins.property
    @pulumi.getter
    def tags(self) -> Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]]:
        """
        Specifies the key/value pairs to associate with the SDRS protected instance.
        """
        return pulumi.get(self, "tags")

    @tags.setter
    def tags(self, value: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]]):
        pulumi.set(self, "tags", value)

    @_builtins.property
    @pulumi.getter(name="targetServer")
    def target_server(self) -> Optional[pulumi.Input[_builtins.str]]:
        """
        ID of the target server.
        """
        return pulumi.get(self, "target_server")

    @target_server.setter
    def target_server(self, value: Optional[pulumi.Input[_builtins.str]]):
        pulumi.set(self, "target_server", value)


@pulumi.type_token("huaweicloud:sdrs/protectedInstance:ProtectedInstance")
class ProtectedInstance(pulumi.CustomResource):
    @overload
    def __init__(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 cluster_id: Optional[pulumi.Input[_builtins.str]] = None,
                 delete_target_eip: Optional[pulumi.Input[_builtins.bool]] = None,
                 delete_target_server: Optional[pulumi.Input[_builtins.bool]] = None,
                 description: Optional[pulumi.Input[_builtins.str]] = None,
                 group_id: Optional[pulumi.Input[_builtins.str]] = None,
                 name: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_ip_address: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_subnet_id: Optional[pulumi.Input[_builtins.str]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 server_id: Optional[pulumi.Input[_builtins.str]] = None,
                 tags: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]] = None,
                 __props__=None):
        """
        Manages an SDRS protected instance resource within HuaweiCloud.

        ## Example Usage

        ```python
        import pulumi
        import pulumi_huaweicloud as huaweicloud

        config = pulumi.Config()
        protection_group_id = config.require_object("protectionGroupId")
        server_id = config.require_object("serverId")
        test = huaweicloud.sdrs.ProtectedInstance("test",
            name="test-name",
            group_id=protection_group_id,
            server_id=server_id,
            delete_target_server=True,
            delete_target_eip=True,
            description="test description",
            tags={
                "foo": "bar",
                "key": "value",
            })
        ```

        ## Import

        The SDRS protected instance can be imported using the `id`, e.g.

        bash

        ```sh
        $ pulumi import huaweicloud:sdrs/protectedInstance:ProtectedInstance test <id>
        ```

        Note that the imported state may not be identical to your resource definition, due to some attributes missing from the

        API response, security or some other reason. The missing attributes include:

        `cluster_id`, `primary_subnet_id`, `primary_ip_address`, `delete_target_server` and `delete_target_eip`.

        It is generally recommended running `pulumi preview` after importing a resource.

        You can then decide if changes should be applied to the resource, or the resource definition should be updated to align

        with the resource. Also, you can ignore changes as below.

        hcl

        resource "huaweicloud_sdrs_protected_instance" "test" {

          ...

          lifecycle {

            ignore_changes = [
            
              cluster_id,
            
              primary_subnet_id,
            
              primary_ip_address,
            
              delete_target_server,
            
              delete_target_eip,
            
            ]

          }

        }

        :param str resource_name: The name of the resource.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] cluster_id: Specifies the DSS storage pool ID.
               This parameter needs to be specified if the disaster recovery site disk uses distributed storage.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.bool] delete_target_eip: Specifies whether to delete the EIP of the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.bool] delete_target_server: Specifies whether to delete the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.str] description: Specifies the description of a protected instance. The description can
               contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] group_id: Specifies the ID of the protection group where a protected instance is
               added.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] name: Specifies the name of a protected instance. The name can contain a maximum of 64
               characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
               underscores (_), and hyphens (-).
        :param pulumi.Input[_builtins.str] primary_ip_address: Specifies the IP address of the primary NIC on the DR site server.
               This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
               primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
               server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] primary_subnet_id: Specifies the network ID of the subnet for the primary NIC on the
               DR site server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] region: Specifies the region in which to create the resource.
               If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] server_id: Specifies the ID of the production site server. The server and protection
               group must belong to the same VPC. And each server can only belong to one protection group.
               
               The protection instance has limited requirements for the operating system version,
               you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]] tags: Specifies the key/value pairs to associate with the SDRS protected instance.
        """
        ...
    @overload
    def __init__(__self__,
                 resource_name: str,
                 args: ProtectedInstanceArgs,
                 opts: Optional[pulumi.ResourceOptions] = None):
        """
        Manages an SDRS protected instance resource within HuaweiCloud.

        ## Example Usage

        ```python
        import pulumi
        import pulumi_huaweicloud as huaweicloud

        config = pulumi.Config()
        protection_group_id = config.require_object("protectionGroupId")
        server_id = config.require_object("serverId")
        test = huaweicloud.sdrs.ProtectedInstance("test",
            name="test-name",
            group_id=protection_group_id,
            server_id=server_id,
            delete_target_server=True,
            delete_target_eip=True,
            description="test description",
            tags={
                "foo": "bar",
                "key": "value",
            })
        ```

        ## Import

        The SDRS protected instance can be imported using the `id`, e.g.

        bash

        ```sh
        $ pulumi import huaweicloud:sdrs/protectedInstance:ProtectedInstance test <id>
        ```

        Note that the imported state may not be identical to your resource definition, due to some attributes missing from the

        API response, security or some other reason. The missing attributes include:

        `cluster_id`, `primary_subnet_id`, `primary_ip_address`, `delete_target_server` and `delete_target_eip`.

        It is generally recommended running `pulumi preview` after importing a resource.

        You can then decide if changes should be applied to the resource, or the resource definition should be updated to align

        with the resource. Also, you can ignore changes as below.

        hcl

        resource "huaweicloud_sdrs_protected_instance" "test" {

          ...

          lifecycle {

            ignore_changes = [
            
              cluster_id,
            
              primary_subnet_id,
            
              primary_ip_address,
            
              delete_target_server,
            
              delete_target_eip,
            
            ]

          }

        }

        :param str resource_name: The name of the resource.
        :param ProtectedInstanceArgs args: The arguments to use to populate this resource's properties.
        :param pulumi.ResourceOptions opts: Options for the resource.
        """
        ...
    def __init__(__self__, resource_name: str, *args, **kwargs):
        resource_args, opts = _utilities.get_resource_args_opts(ProtectedInstanceArgs, pulumi.ResourceOptions, *args, **kwargs)
        if resource_args is not None:
            __self__._internal_init(resource_name, opts, **resource_args.__dict__)
        else:
            __self__._internal_init(resource_name, *args, **kwargs)

    def _internal_init(__self__,
                 resource_name: str,
                 opts: Optional[pulumi.ResourceOptions] = None,
                 cluster_id: Optional[pulumi.Input[_builtins.str]] = None,
                 delete_target_eip: Optional[pulumi.Input[_builtins.bool]] = None,
                 delete_target_server: Optional[pulumi.Input[_builtins.bool]] = None,
                 description: Optional[pulumi.Input[_builtins.str]] = None,
                 group_id: Optional[pulumi.Input[_builtins.str]] = None,
                 name: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_ip_address: Optional[pulumi.Input[_builtins.str]] = None,
                 primary_subnet_id: Optional[pulumi.Input[_builtins.str]] = None,
                 region: Optional[pulumi.Input[_builtins.str]] = None,
                 server_id: Optional[pulumi.Input[_builtins.str]] = None,
                 tags: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]] = None,
                 __props__=None):
        opts = pulumi.ResourceOptions.merge(_utilities.get_resource_opts_defaults(), opts)
        if not isinstance(opts, pulumi.ResourceOptions):
            raise TypeError('Expected resource options to be a ResourceOptions instance')
        if opts.id is None:
            if __props__ is not None:
                raise TypeError('__props__ is only valid when passed in combination with a valid opts.id to get an existing resource')
            __props__ = ProtectedInstanceArgs.__new__(ProtectedInstanceArgs)

            __props__.__dict__["cluster_id"] = cluster_id
            __props__.__dict__["delete_target_eip"] = delete_target_eip
            __props__.__dict__["delete_target_server"] = delete_target_server
            __props__.__dict__["description"] = description
            if group_id is None and not opts.urn:
                raise TypeError("Missing required property 'group_id'")
            __props__.__dict__["group_id"] = group_id
            __props__.__dict__["name"] = name
            __props__.__dict__["primary_ip_address"] = primary_ip_address
            __props__.__dict__["primary_subnet_id"] = primary_subnet_id
            __props__.__dict__["region"] = region
            if server_id is None and not opts.urn:
                raise TypeError("Missing required property 'server_id'")
            __props__.__dict__["server_id"] = server_id
            __props__.__dict__["tags"] = tags
            __props__.__dict__["target_server"] = None
        super(ProtectedInstance, __self__).__init__(
            'huaweicloud:sdrs/protectedInstance:ProtectedInstance',
            resource_name,
            __props__,
            opts)

    @staticmethod
    def get(resource_name: str,
            id: pulumi.Input[str],
            opts: Optional[pulumi.ResourceOptions] = None,
            cluster_id: Optional[pulumi.Input[_builtins.str]] = None,
            delete_target_eip: Optional[pulumi.Input[_builtins.bool]] = None,
            delete_target_server: Optional[pulumi.Input[_builtins.bool]] = None,
            description: Optional[pulumi.Input[_builtins.str]] = None,
            group_id: Optional[pulumi.Input[_builtins.str]] = None,
            name: Optional[pulumi.Input[_builtins.str]] = None,
            primary_ip_address: Optional[pulumi.Input[_builtins.str]] = None,
            primary_subnet_id: Optional[pulumi.Input[_builtins.str]] = None,
            region: Optional[pulumi.Input[_builtins.str]] = None,
            server_id: Optional[pulumi.Input[_builtins.str]] = None,
            tags: Optional[pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]]] = None,
            target_server: Optional[pulumi.Input[_builtins.str]] = None) -> 'ProtectedInstance':
        """
        Get an existing ProtectedInstance resource's state with the given name, id, and optional extra
        properties used to qualify the lookup.

        :param str resource_name: The unique name of the resulting resource.
        :param pulumi.Input[str] id: The unique provider ID of the resource to lookup.
        :param pulumi.ResourceOptions opts: Options for the resource.
        :param pulumi.Input[_builtins.str] cluster_id: Specifies the DSS storage pool ID.
               This parameter needs to be specified if the disaster recovery site disk uses distributed storage.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.bool] delete_target_eip: Specifies whether to delete the EIP of the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.bool] delete_target_server: Specifies whether to delete the DR site server.
               The default value is **false**.
        :param pulumi.Input[_builtins.str] description: Specifies the description of a protected instance. The description can
               contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] group_id: Specifies the ID of the protection group where a protected instance is
               added.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] name: Specifies the name of a protected instance. The name can contain a maximum of 64
               characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
               underscores (_), and hyphens (-).
        :param pulumi.Input[_builtins.str] primary_ip_address: Specifies the IP address of the primary NIC on the DR site server.
               This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
               primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
               server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] primary_subnet_id: Specifies the network ID of the subnet for the primary NIC on the
               DR site server.
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] region: Specifies the region in which to create the resource.
               If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        :param pulumi.Input[_builtins.str] server_id: Specifies the ID of the production site server. The server and protection
               group must belong to the same VPC. And each server can only belong to one protection group.
               
               The protection instance has limited requirements for the operating system version,
               you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).
               
               Changing this parameter will create a new resource.
        :param pulumi.Input[Mapping[str, pulumi.Input[_builtins.str]]] tags: Specifies the key/value pairs to associate with the SDRS protected instance.
        :param pulumi.Input[_builtins.str] target_server: ID of the target server.
        """
        opts = pulumi.ResourceOptions.merge(opts, pulumi.ResourceOptions(id=id))

        __props__ = _ProtectedInstanceState.__new__(_ProtectedInstanceState)

        __props__.__dict__["cluster_id"] = cluster_id
        __props__.__dict__["delete_target_eip"] = delete_target_eip
        __props__.__dict__["delete_target_server"] = delete_target_server
        __props__.__dict__["description"] = description
        __props__.__dict__["group_id"] = group_id
        __props__.__dict__["name"] = name
        __props__.__dict__["primary_ip_address"] = primary_ip_address
        __props__.__dict__["primary_subnet_id"] = primary_subnet_id
        __props__.__dict__["region"] = region
        __props__.__dict__["server_id"] = server_id
        __props__.__dict__["tags"] = tags
        __props__.__dict__["target_server"] = target_server
        return ProtectedInstance(resource_name, opts=opts, __props__=__props__)

    @_builtins.property
    @pulumi.getter(name="clusterId")
    def cluster_id(self) -> pulumi.Output[Optional[_builtins.str]]:
        """
        Specifies the DSS storage pool ID.
        This parameter needs to be specified if the disaster recovery site disk uses distributed storage.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "cluster_id")

    @_builtins.property
    @pulumi.getter(name="deleteTargetEip")
    def delete_target_eip(self) -> pulumi.Output[Optional[_builtins.bool]]:
        """
        Specifies whether to delete the EIP of the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_eip")

    @_builtins.property
    @pulumi.getter(name="deleteTargetServer")
    def delete_target_server(self) -> pulumi.Output[Optional[_builtins.bool]]:
        """
        Specifies whether to delete the DR site server.
        The default value is **false**.
        """
        return pulumi.get(self, "delete_target_server")

    @_builtins.property
    @pulumi.getter
    def description(self) -> pulumi.Output[_builtins.str]:
        """
        Specifies the description of a protected instance. The description can
        contain a maximum of 64 characters. The value angle brackets (<) and (>) are not allowed.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "description")

    @_builtins.property
    @pulumi.getter(name="groupId")
    def group_id(self) -> pulumi.Output[_builtins.str]:
        """
        Specifies the ID of the protection group where a protected instance is
        added.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "group_id")

    @_builtins.property
    @pulumi.getter
    def name(self) -> pulumi.Output[_builtins.str]:
        """
        Specifies the name of a protected instance. The name can contain a maximum of 64
        characters. The value can contain only letters (a to z and A to Z), digits (0 to 9), dots (.),
        underscores (_), and hyphens (-).
        """
        return pulumi.get(self, "name")

    @_builtins.property
    @pulumi.getter(name="primaryIpAddress")
    def primary_ip_address(self) -> pulumi.Output[Optional[_builtins.str]]:
        """
        Specifies the IP address of the primary NIC on the DR site server.
        This parameter is valid only when primary_subnet_id is specified. If this parameter is not specified when
        primary_subnet_id is specified, the system automatically assigns an IP address to the primary NIC on the DR site
        server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_ip_address")

    @_builtins.property
    @pulumi.getter(name="primarySubnetId")
    def primary_subnet_id(self) -> pulumi.Output[Optional[_builtins.str]]:
        """
        Specifies the network ID of the subnet for the primary NIC on the
        DR site server.

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "primary_subnet_id")

    @_builtins.property
    @pulumi.getter
    def region(self) -> pulumi.Output[_builtins.str]:
        """
        Specifies the region in which to create the resource.
        If omitted, the provider-level region will be used. Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "region")

    @_builtins.property
    @pulumi.getter(name="serverId")
    def server_id(self) -> pulumi.Output[_builtins.str]:
        """
        Specifies the ID of the production site server. The server and protection
        group must belong to the same VPC. And each server can only belong to one protection group.

        The protection instance has limited requirements for the operating system version,
        you can refer to this [document](https://support.huaweicloud.com/intl/en-us/productdesc-sdrs/sdrs_pro_0007.html).

        Changing this parameter will create a new resource.
        """
        return pulumi.get(self, "server_id")

    @_builtins.property
    @pulumi.getter
    def tags(self) -> pulumi.Output[Mapping[str, _builtins.str]]:
        """
        Specifies the key/value pairs to associate with the SDRS protected instance.
        """
        return pulumi.get(self, "tags")

    @_builtins.property
    @pulumi.getter(name="targetServer")
    def target_server(self) -> pulumi.Output[_builtins.str]:
        """
        ID of the target server.
        """
        return pulumi.get(self, "target_server")

